"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[847],{1847:function(t,e,r){r.r(e);var n=r(9439),a=r(2791),u=r(7689),c=r(6354),s=r(184);e.default=function(){var t=(0,u.UO)().id,e=(0,a.useState)([]),r=(0,n.Z)(e,2),o=r[0],i=r[1],p=(0,a.useState)(null),h=(0,n.Z)(p,2),l=h[0],f=h[1];return(0,a.useEffect)((function(){(0,c.Jh)(Number(t)).then((function(t){i(t),f(null)})).catch((function(t){f(t),i([])}))}),[t]),(0,s.jsxs)(s.Fragment,{children:[o.length>0&&!l&&(0,s.jsx)("ul",{children:o.map((function(t){var e=t.id,r=t.author,n=t.content;return(0,s.jsxs)("li",{children:[(0,s.jsxs)("h4",{children:["Author: ",r]}),(0,s.jsx)("p",{children:n})]},e)}))}),0===o.length&&!l&&(0,s.jsx)("p",{children:"We don't have any reviews for this movie"})]})}},6354:function(t,e,r){r.d(e,{Df:function(){return o},Jh:function(){return l},Pg:function(){return p},XT:function(){return i},yO:function(){return h}});var n=r(5861),a=r(4687),u=r.n(a),c=r(2388);c.Z.defaults.baseURL="https://api.themoviedb.org/3";var s="74c5e15336c71e6f10e46fc816460a0f",o=function(){var t=(0,n.Z)(u().mark((function t(){var e,r,n,a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={params:{api_key:s}},t.prev=1,t.next=4,c.Z.get("/trending/movie/day?",e);case 4:return r=t.sent,n=r.data,a=n.results.map((function(t){var e=t.id,r=t.title,n=t.poster_path,a=t.vote_average;return{id:e,poster_path:n?"https://image.tmdb.org/t/p/w500".concat(n):"https://sdlatlas.com/public/img/thumbnail.jpg",title:r||"name not found",vote_average:a.toFixed(1)}})),t.abrupt("return",a);case 10:t.prev=10,t.t0=t.catch(1),console.log("Something wrong with API",t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}(),i=function(){var t=(0,n.Z)(u().mark((function t(e,r){var n,a,o,i;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={params:{api_key:s,query:e,page:r}},t.prev=1,t.next=4,c.Z.get("/search/movie?",n);case 4:return a=t.sent,o=a.data,i=o.results.map((function(t){var e=t.id,r=t.title,n=t.poster_path,a=t.vote_average;return{id:e,poster_path:n?"https://image.tmdb.org/t/p/w500".concat(n):"https://sdlatlas.com/public/img/thumbnail.jpg",title:r||"name not found",vote_average:a.toFixed(1)}})),t.abrupt("return",i);case 10:t.prev=10,t.t0=t.catch(1),console.error("Something wrong with API",t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,r){return t.apply(this,arguments)}}(),p=function(){var t=(0,n.Z)(u().mark((function t(e){var r,n,a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={params:{api_key:s}},t.prev=1,t.next=4,c.Z.get("/movie/".concat(e,"?"),r);case 4:return n=t.sent,a=n.data,t.abrupt("return",a);case 9:t.prev=9,t.t0=t.catch(1),console.error("Something wrong with API",t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=(0,n.Z)(u().mark((function t(e){var r,n,a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={params:{api_key:s,language:"en-US"}},t.prev=1,t.next=4,c.Z.get("/movie/".concat(e,"/credits?"),r);case 4:return n=t.sent,a=n.data,t.abrupt("return",a.cast);case 9:t.prev=9,t.t0=t.catch(1),console.error("Something wrong with API",t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,n.Z)(u().mark((function t(e){var r,n,a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={params:{api_key:s,language:"en-US",page:1}},t.prev=1,t.next=4,c.Z.get("/movie/".concat(e,"/reviews?"),r);case 4:return n=t.sent,a=n.data,t.abrupt("return",a.results);case 9:t.prev=9,t.t0=t.catch(1),console.error("Something wrong with API",t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}}]);
//# sourceMappingURL=847.37204257.chunk.js.map