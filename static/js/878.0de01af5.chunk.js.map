{"version":3,"file":"static/js/878.0de01af5.chunk.js","mappings":"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","sources":["API/moviesAPI.js","components/moviesList/moviesList.styled.js","components/movieInfo/movieInfo.styled.js","components/movieInfo/movieInfo.jsx","components/moviesList/moviesList.jsx","helpers/ToastParams.js","components/searchBox/searchBox.styled.js","components/searchBox/searchBox.jsx","pages/movies.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst KEY_API = '74c5e15336c71e6f10e46fc816460a0f';\n\nexport const getTrendingMovies = async () => {\n  const options = {\n    params: {\n      api_key: KEY_API,\n    },\n  };\n  try {\n    const { data } = await axios.get(`/trending/movie/day?`, options);\n    return data.results;\n  } catch (error) {\n    console.log('Something wrong with API', error.message);\n  }\n};\n\nexport const getMovies = async (searchQuery, currentPage) => {\n  const options = {\n    params: {\n      api_key: KEY_API,\n      query: searchQuery,\n      page: currentPage,\n    },\n  };\n  try {\n    const { data } = await axios.get(`/search/movie?`, options);\n    return data.results;\n  } catch (error) {\n    console.error('Something wrong with API', error.message);\n  }\n};\n\nexport const getMovieById = async id => {\n  const options = {\n    params: {\n      api_key: KEY_API,\n    },\n  };\n  try {\n    const { data } = await axios.get(`/movie/${id}?`, options);\n\n    return data;\n  } catch (error) {\n    console.error('Something wrong with API', error.message);\n  }\n};\n\nexport const getCasts = async id => {\n  const options = {\n    params: {\n      api_key: KEY_API,\n      language: 'en-US',\n    },\n  };\n\n  try {\n    const { data } = await axios.get(`/movie/${id}/credits?`, options);\n\n    return data.cast;\n  } catch (error) {\n    console.error('Something wrong with API', error.message);\n  }\n};\n\nexport const getReviews = async id => {\n  const options = {\n    params: {\n      api_key: KEY_API,\n      language: 'en-US',\n      page: 1,\n    },\n  };\n\n  try {\n    const { data } = await axios.get(`/movie/${id}/reviews?`, options);\n\n    return data.results;\n  } catch (error) {\n    console.error('Something wrong with API', error.message);\n  }\n};\n","import styled from 'styled-components';\n\nexport const List = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n\n  margin-left: -20px;\n  margin-top: -20px;\n  padding: 20px 0;\n`;\n\nexport const Item = styled.li`\n  flex-basis: calc(100% / 2 - 20px);\n  margin-left: 20px;\n  margin-top: 20px;\n\n  opacity: 1;\n\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover,\n  &:focus {\n    color: #02be6e;\n\n    opacity: 0.8;\n\n    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  }\n\n  @media (max-width: 1169px) {\n    flex-basis: calc(100% / 3 - 20px);\n  }\n\n  @media (min-width: 1170px) {\n    flex-basis: calc(100% / 4 - 20px);\n  }\n\n  > a {\n    color: inherit;\n    text-decoration: none;\n  }\n`;\n","import styled from 'styled-components';\n\nexport const Card = styled.div`\n  position: relative;\n  border-radius: ${p => p.theme.radii.normal};\n  border: solid 1px ${p => p.theme.colors.border};\n  background: ${p => p.theme.colors.muted};\n`;\n\nexport const Thumb = styled.div`\n  height: 250px;\n\n  @media (max-width: 767px) {\n    height: 300px;\n  }\n\n  @media (max-width: 1169px) {\n    height: 350px;\n  }\n\n  @media (min-width: 1170px) {\n    height: 400px;\n  }\n`;\n\nexport const Poster = styled.img`\n  width: 100%;\n  height: 100%;\n  border-radius: ${p => p.theme.radii.normal};\n\n  object-fit: cover;\n  object-position: top;\n`;\n\nexport const Discription = styled.p`\n  display: flex;\n  justify-content: center;\n  padding: 10px;\n\n  font-size: ${p => p.theme.fontSizes.m};\n`;\n\nexport const Vote = styled.b`\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  padding: 5px;\n  border-radius: ${p => p.theme.radii.normal};\n\n  color: ${p => p.theme.colors.white};\n  background-color: ${p => p.theme.colors.accent};\n`;\n","import PropTypes from 'prop-types';\nimport { Card, Thumb, Poster, Discription, Vote } from './movieInfo.styled';\n\nexport const MovieInfo = ({ title, poster, vote }) => {\n  const posterUrl = poster\n    ? `https://image.tmdb.org/t/p/w500${poster}`\n    : `https://sdlatlas.com/public/img/thumbnail.jpg`;\n\n  return (\n    <Card>\n      <Thumb>\n        <Poster src={posterUrl} alt={title} />\n      </Thumb>\n      <Discription>\n        <span>{title ? title : 'name not found'}</span>\n        {vote ? <Vote>{vote.toFixed(1)}</Vote> : null}\n      </Discription>\n    </Card>\n  );\n};\n\nMovieInfo.propTypes = {\n  title: PropTypes.string.isRequired,\n  poster: PropTypes.string.isRequired,\n  vote: PropTypes.number.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { List, Item } from './moviesList.styled';\nimport { MovieInfo } from 'components/movieInfo/movieInfo';\n\nexport const MoviesList = ({ movies, location }) => {\n  return (\n    <List>\n      {movies.map(({ id, title, poster_path, vote_average }) => (\n        <Item key={id}>\n          <Link to={`/movies/${id}`} state={{ from: location }}>\n            <MovieInfo title={title} poster={poster_path} vote={vote_average} />\n          </Link>\n        </Item>\n      ))}\n    </List>\n  );\n};\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n      poster_path: PropTypes.string.isRequired,\n      vote_average: PropTypes.number.isRequired,\n    })\n  ).isRequired,\n  location: PropTypes.object.isRequired,\n};\n","const toastParams = {\n  position: 'top-center',\n  autoClose: 2000,\n  hideProgressBar: false,\n  closeOnClick: true,\n  pauseOnHover: true,\n  draggable: true,\n  progress: undefined,\n};\nexport default toastParams;\n","import styled from 'styled-components';\nimport { HiSearch } from 'react-icons/hi';\n\nexport const Wrapper = styled.div`\n  display: inline-flex;\n  align-items: center;\n  position: relative;\n  margin-bottom: 16px;\n  text-transform: uppercase;\n`;\n\nexport const Input = styled.input`\n  padding: 8px 32px 8px 8px;\n  border-radius: ${p => p.theme.radii.normal};\n  font: inherit;\n`;\n\nexport const Icon = styled(HiSearch)`\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  right: 6px;\n`;\n","import PropTypes from 'prop-types';\nimport { Wrapper, Input, Icon } from './searchBox.styled';\n\nexport const SearchBox = ({ value, onChange }) => {\n  return (\n    <Wrapper>\n      <Icon />\n      <Input\n        type=\"text\"\n        name=\"query\"\n        value={value}\n        autoComplete=\"off\"\n        placeholder=\"Search movies\"\n        autoFocus\n        required\n        onChange={e => onChange(e.target.value)}\n      />\n    </Wrapper>\n  );\n};\n\nSearchBox.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.string.isRequired,\n};\n","import { useSearchParams, useLocation } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { MoviesList } from 'components/moviesList/moviesList';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport toastParams from '../helpers/ToastParams';\nimport { SearchBox } from '../components/searchBox/searchBox';\nimport { getMovies } from 'API/moviesAPI';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const searchQuery = searchParams.get('query') ?? '';\n  const [searchMovies, setSearchMovies] = useState([]);\n  const [error, setError] = useState(null);\n  const location = useLocation();\n\n  useEffect(() => {\n    if (!searchQuery) {\n      setSearchMovies([]);\n      return;\n    }\n\n    if (searchQuery.trim() === '' || searchQuery === '') {\n      toast.error('🦄Lets start the search', toastParams);\n      return;\n    }\n\n    getMovies(searchQuery.toLowerCase().trim())\n      .then(movies => {\n        setSearchMovies(movies);\n        if (movies.length === 0) {\n          toast.error('🦄Lets start the search', toastParams);\n        }\n        setError(null);\n      })\n      .catch(error => {\n        console.log(error.message);\n        setSearchMovies([]);\n        setError(error);\n      });\n  }, [searchQuery]);\n\n  const updateQuery = value => {\n    setSearchParams(value !== '' ? { query: value } : {});\n  };\n\n  return (\n    <main>\n      <SearchBox value={searchQuery} onChange={updateQuery} />\n      <MoviesList movies={searchMovies} location={location} />\n      {error &&\n        toast.error(\n          'Sorry, something went wrong.🦄 Please try again',\n          toastParams\n        )}\n    </main>\n  );\n};\n\nexport default Movies;\n"],"names":["axios","KEY_API","getTrendingMovies","options","params","api_key","data","results","console","log","message","getMovies","searchQuery","currentPage","query","page","error","getMovieById","id","getCasts","language","cast","getReviews","List","styled","Item","Card","p","theme","radii","normal","colors","border","muted","Thumb","Poster","Discription","fontSizes","m","Vote","white","accent","MovieInfo","title","poster","vote","posterUrl","src","alt","toFixed","MoviesList","movies","location","map","poster_path","vote_average","to","state","from","toastParams","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","Wrapper","Input","Icon","HiSearch","SearchBox","value","onChange","type","name","autoComplete","placeholder","autoFocus","required","e","target","useSearchParams","searchParams","setSearchParams","get","useState","searchMovies","setSearchMovies","setError","useLocation","useEffect","trim","toLowerCase","then","length","toast","catch"],"sourceRoot":""}